<%--suppress ALL --%><%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %><%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %><%@ taglib prefix="tiles" uri="http://tiles.apache.org/tags-tiles" %><%@ taglib prefix="mark" tagdir="/WEB-INF/tags/mark" %><style>    h5 {        font-size: 14px;        margin-top: 10px;        margin-bottom: 10px;        font-family: inherit;        font-weight: 500;        line-height: 1.1;        color: inherit;    }</style><script type="text/javascript">    var stompClient = null;    function connect() {        var socket = new SockJS('/wall/${personOfPage.id}');        stompClient = Stomp.over(socket);        stompClient.connect({}, function (frame) {            stompClient.subscribe('/wall1/${personOfPage.id}', function (greeting) {                var post = JSON.parse(greeting.body);                var insertingText = "<hr/><div><span style=\"font-size:10px\">" + post.date + "</span><br/><strong>" + post.sender.firstName + " " +  post.sender.lastName + "</strong><br/>" + post.text + "</div>";                $('#wallDiv').prepend(insertingText);            });        });    }    function disconnect() {        if (stompClient != null) {            stompClient.disconnect();        }    }    function sendName() {        var text = document.getElementById('messageForPost').value;        stompClient.send("/wall/" + ${personOfPage.id}, {}, JSON.stringify({'text': text}));    }    connect();</script><div style="float:left;width:250px">    <div style="overflow:hidden">        <div style="float:left;margin-right:10px;background-color:#fff;border-radius:4px;">            <img src="${profile.facePhotoUrl}" style="border-radius: 4px"/>            <div style="font-weight:600;font-size:16px;text-align: center;line-height:2.2">                ${profile.firstName} ${profile.lastName}            </div>        </div>    </div>    <div>        <a href="<c:url value="/profile/change" />">Редактировать профиль</a>    </div>    <div>        <a href="<c:url value="/message/${account.id}" />">Отправить сообщение</a>    </div>    <div class="well" style="width:250px">        <h5>Друзья</h5>        <ul>            <c:forEach items="${profile.friends}" var="friend">                <li><a href="<c:url value="/profile/id${friend.id}"/>">${friend.firstName} ${friend.lastName}</a></li>            </c:forEach>        </ul>    </div>    <div style="width:250px;overflow: hidden">        Я хочу | <a href="<c:url value="/profile/add_i_want" />">Добавить</a>        <mark:list markType="want" marks="${wants}"/>    </div>    <div style="width:250px">        Я могу | <a href="<c:url value="/profile/add_i_can" />">Добавить</a>        <mark:list markType="can" marks="${cans}"/>    </div></div><div style="margin-left:260px;width:600px">    <div class="well">        <form id="wallForm">            <button type="submit" id="sendName" class="btn btn-default" style="float:right">Опубликовать            </button>            <div style="margin-right:120px">                <input type="text" id="messageForPost" class="form-control"/>            </div>        </form>        <div id="wallDiv">            <c:forEach items="${wall}" var="post">                <hr/>                <div><span style="font-size:10px">${post.date}</span><br/><strong>${post.sender.firstName} ${post.sender.lastName}</strong><br/> ${post.text}</div>            </c:forEach>        </div>    </div>    <script>        $("#wallForm").submit(function(){            sendName();            return false;        });    </script></div>